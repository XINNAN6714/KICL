<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, initial-scale=1.0">
    <title>成績計算</title>
    <style>
        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow-x: hidden; /* 禁用橫向滾動 */
        }

        .grade-section {
            margin-bottom: 10px; /* 減少垂直間距 */
        }

        .grade-section h2 {
            margin-bottom: 5px;
            font-size: 16px; /* 調整標題字體大小 */
        }

        .grade-row {
            display: flex;
            justify-content: flex-start; /* 確保標籤和輸入框緊靠排列 */
            align-items: center;
            margin-bottom: 5px; /* 減少項目間的距離 */
        }

        .grade-label {
            width: 45%;  /* 調整標籤的寬度 */
            font-weight: bold;
            font-size: 14px; /* 減小字體大小 */
            text-align: left; /* 使標籤靠左對齊 */
        }

        input[type="number"] {
            width: 50%;  /* 調整輸入框的寬度 */
            padding: 5px;
            font-size: 14px; /* 減小字體大小 */
            box-sizing: border-box;
            margin-left: 5px; /* 添加一點距離，使輸入框靠近標籤 */
        }

        button {
            margin-top: 10px;
            padding: 8px 15px; /* 減少按鈕內部的 padding */
            display: block;
            font-size: 14px;
            width: 100%; /* 按鈕寬度設為 100% 以避免水平滾動 */
            box-sizing: border-box;
        }

        h1 {
            font-size: 18px;
        }

        h3 {
            font-size: 14px;
        }

        p {
            font-size: 12px;
        }

    </style>
</head>
<body>
    <h1>KICL-KICL成績計算</h1>

    <!-- 中間試験入力 -->
    <div class="grade-section">
        <h2>中間試験 (40%)</h2>

        <div class="grade-row">
            <div class="grade-label">漢字・語彙 (25%)</div>
            <input type="number" id="kanji_mid" inputmode="numeric" placeholder="成績を入力(Enter score)" required>
        </div>
        
        <div class="grade-row">
            <div class="grade-label">文法 (25%)</div>
            <input type="number" id="grammar_mid" inputmode="numeric" placeholder="成績を入力(Enter score)" required>
        </div>

        <div class="grade-row">
            <div class="grade-label">聴解 (12.5%)</div>
            <input type="number" id="listening_mid" inputmode="numeric" placeholder="成績を入力(Enter score)" required>
        </div>

        <div class="grade-row">
            <div class="grade-label">読解 (12.5%)</div>
            <input type="number" id="reading_mid" inputmode="numeric" placeholder="成績を入力(Enter score)" required>
        </div>

        <div class="grade-row">
            <div class="grade-label">会話 (12.5%)</div>
            <input type="number" id="conversation_mid" inputmode="numeric" placeholder="成績を入力(Enter score)" required>
        </div>

        <div class="grade-row">
            <div class="grade-label">作文 (12.5%)</div>
            <input type="number" id="writing_mid" inputmode="numeric" placeholder="成績を入力(Enter score)" required>
        </div>
    </div>

    <!-- 期末試験入力 -->
    <div class="grade-section">
        <h2>期末試験 (60%)</h2>

        <div class="grade-row">
            <div class="grade-label">漢字・語彙 (25%)</div>
            <input type="number" id="kanji_final" inputmode="numeric" placeholder="成績を入力(Enter score)" required>
        </div>
        
        <div class="grade-row">
            <div class="grade-label">文法 (25%)</div>
            <input type="number" id="grammar_final" inputmode="numeric" placeholder="成績を入力(Enter score)" required>
        </div>

        <div class="grade-row">
            <div class="grade-label">聴解 (12.5%)</div>
            <input type="number" id="listening_final" inputmode="numeric" placeholder="成績を入力(Enter score)" required>
        </div>

        <div class="grade-row">
            <div class="grade-label">読解 (12.5%)</div>
            <input type="number" id="reading_final" inputmode="numeric" placeholder="成績を入力(Enter score)" required>
        </div>

        <div class="grade-row">
            <div class="grade-label">会話 (12.5%)</div>
            <input type="number" id="conversation_final" inputmode="numeric" placeholder="成績を入力(Enter score)" required>
        </div>

        <div class="grade-row">
            <div class="grade-label">作文 (12.5%)</div>
            <input type="number" id="writing_final" inputmode="numeric" placeholder="成績を入力(Enter score)" required>
        </div>
    </div>

    <button type="button" onclick="calculateTotal()">総合成績を計算 (Calculate total score)</button>
    <span class="button-label"></span>

    <h3>結果：</h3>
    <p id="result"></p>

    <script>
        function calculateTotal() {
            // 取得使用者輸入的中間試験和期末試験成績
            let kanji_mid = parseFloat(document.getElementById('kanji_mid').value);
            let kanji_final = parseFloat(document.getElementById('kanji_final').value);

            let grammar_mid = parseFloat(document.getElementById('grammar_mid').value);
            let grammar_final = parseFloat(document.getElementById('grammar_final').value);

            let listening_mid = parseFloat(document.getElementById('listening_mid').value);
            let listening_final = parseFloat(document.getElementById('listening_final').value);

            let reading_mid = parseFloat(document.getElementById('reading_mid').value);
            let reading_final = parseFloat(document.getElementById('reading_final').value);

            let conversation_mid = parseFloat(document.getElementById('conversation_mid').value);
            let conversation_final = parseFloat(document.getElementById('conversation_final').value);

            let writing_mid = parseFloat(document.getElementById('writing_mid').value);
            let writing_final = parseFloat(document.getElementById('writing_final').value);

            // 計算加權成績（中間試験佔 40%，期末試験佔 60%）
            let kanji_score = (kanji_mid * 0.4) + (kanji_final * 0.6);
            let grammar_score = (grammar_mid * 0.4) + (grammar_final * 0.6);
            let listening_score = (listening_mid * 0.4) + (listening_final * 0.6);
            let reading_score = (reading_mid * 0.4) + (reading_final * 0.6);
            let conversation_score = (conversation_mid * 0.4) + (conversation_final * 0.6);
            let writing_score = (writing_mid * 0.4) + (writing_final * 0.6);

            // 各項目加權總成績計算
            let total = (kanji_score * 0.25) + (grammar_score * 0.25) + 
                        (listening_score * 0.125) + (reading_score * 0.125) + 
                        (conversation_score * 0.125) + (writing_score * 0.125);

            // 顯示計算結果
            document.getElementById('result').innerHTML = '総合成績: ' + total.toFixed(2) + ' / 100 <br> Total Score';
        }
    </script>
</body>
</html>
